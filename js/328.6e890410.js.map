{"version":3,"file":"js/328.6e890410.js","mappings":"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","sources":["webpack://travel/./src/pages/detail/DetailPage.vue","webpack://travel/./src/pages/detail/components/DetailBanner.vue","webpack://travel/./src/pages/detail/components/DetailBanner.vue?9f56","webpack://travel/./src/pages/detail/components/DetailHeader.vue","webpack://travel/./src/pages/detail/components/DetailHeader.vue?30ae","webpack://travel/./src/pages/detail/components/DetailList.vue","webpack://travel/./src/pages/detail/components/DetailList.vue?ca44","webpack://travel/./src/pages/detail/DetailPage.vue?376f"],"sourcesContent":["<template>\r\n  <DetailBanner\r\n    :bannerImg=\"bannerImg\"\r\n    :sightName=\"sightName\"\r\n    :galleryImgs=\"galleryImgs\"\r\n  />\r\n  <DetailHeader />\r\n  <div class=\"content\"><DetailList :list=\"categoryList\" /></div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport DetailBanner from \"./components/DetailBanner.vue\";\r\nimport DetailHeader from \"./components/DetailHeader.vue\";\r\nimport DetailList from \"./components/DetailList.vue\";\r\n\r\nexport default {\r\n  components: { DetailBanner, DetailHeader, DetailList },\r\n  data() {\r\n    return {\r\n      sightName: \"\",\r\n      bannerImg: \"\",\r\n      galleryImgs: [],\r\n      categoryList: [],\r\n      lastVisitedId: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async getDetailInfo() {\r\n      this.lastVisitedId = this.$route.params.itemId;\r\n      const { data } = await axios.get(\"../mock/detail.json\", {\r\n        params: {\r\n          id: this.$route.params.itemId,\r\n        },\r\n      });\r\n      if (data.ret && data.data) {\r\n        const res = data.data;\r\n        this.sightName = res.sightName;\r\n        this.bannerImg = res.bannerImg;\r\n        this.galleryImgs = res.galleryImgs;\r\n        this.categoryList = res.categoryList;\r\n      } else console.log(\"failed to fetch detail info\");\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getDetailInfo();\r\n  },\r\n  activated() {\r\n    if (this.$route.params.itemId !== this.lastVisitedId) {\r\n      this.getDetailInfo();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.content\r\n    height: 50rem\r\n</style>\r\n","<template>\r\n  <div>\r\n    <div class=\"banner\" @click=\"handleBannerClick\">\r\n      <img class=\"banner-img\" :src=\"bannerImg\" />\r\n      <div class=\"banner-info\">\r\n        <div class=\"banner-title\">{{ sightName }}</div>\r\n        <div class=\"banner-number\">\r\n          <span class=\"iconfont banner-icon\">&#xe692;</span\r\n          >{{ galleryImgs.length }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <FadeAnimation>\r\n      <BasicGallery\r\n        :imgs=\"galleryImgs\"\r\n        v-show=\"showGallery\"\r\n        @close=\"closeGallery\"\r\n      />\r\n    </FadeAnimation>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"bannerImg\", \"sightName\", \"galleryImgs\"],\r\n  data() {\r\n    return {\r\n      showGallery: false,\r\n    };\r\n  },\r\n  methods: {\r\n    handleBannerClick() {\r\n      this.showGallery = true;\r\n    },\r\n    closeGallery() {\r\n      this.showGallery = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.banner\r\n    position: relative\r\n    overflow: hidden\r\n    height: 0\r\n    padding-bottom: 55%\r\n    .banner-img\r\n        width: 100%\r\n    .banner-info\r\n        display: flex\r\n        position: absolute\r\n        left: 0\r\n        right: 0\r\n        bottom: 0\r\n        line-height: .6rem\r\n        color: #fff\r\n        background: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.8))\r\n        .banner-title\r\n            flex: 1\r\n            font-size: .32rem\r\n            padding: 0 .2rem\r\n        .banner-number\r\n            height: .32rem\r\n            line-height: .32rem\r\n            margin-top: .14rem\r\n            padding: 0 .4rem\r\n            border-radius: .2rem\r\n            background: rgba(0,0,0,.8)\r\n            font-size: .24rem\r\n            .banner-icon\r\n                padding: .08rem\r\n                font-size: .24rem\r\n</style>\r\n","import { render } from \"./DetailBanner.vue?vue&type=template&id=6c43c7b4&scoped=true\"\nimport script from \"./DetailBanner.vue?vue&type=script&lang=js\"\nexport * from \"./DetailBanner.vue?vue&type=script&lang=js\"\n\nimport \"./DetailBanner.vue?vue&type=style&index=0&id=6c43c7b4&lang=stylus&scoped=true\"\n\nimport exportComponent from \"D:\\\\熊粤\\\\PL规划\\\\Vue\\\\20-project-travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c43c7b4\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <router-link to=\"/\" class=\"header-abs\" v-show=\"showAbs\">\r\n      <div class=\"iconfont header-abs-back\">&#xe624;</div>\r\n    </router-link>\r\n    <div class=\"header-fixed\" v-show=\"!showAbs\" :style=\"opacityStyle\">\r\n      景点详情\r\n      <router-link to=\"/\">\r\n        <div class=\"iconfont header-fixed-back\">&#xe624;</div>\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      showAbs: true,\r\n      opacityStyle: {\r\n        opacity: 0,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    handleScroll() {\r\n      const top =\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop ||\r\n        window.pageYOffset; //不同浏览器兼容性处理\r\n      if (top > 60) {\r\n        let opacity = top / 140;\r\n        opacity = opacity > 1 ? 1 : opacity;\r\n        this.opacityStyle = { opacity };\r\n        this.showAbs = false;\r\n      } else this.showAbs = true;\r\n    },\r\n  },\r\n  activated() {\r\n    window.addEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n  deactivated() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/variables.styl';\r\n.header-abs\r\n    position: absolute\r\n    left: .2rem\r\n    top: .2rem\r\n    width: .8rem\r\n    height: .8rem\r\n    line-height: .8rem\r\n    border-radius: .4rem\r\n    text-align: center\r\n    background: rgba(0,0,0,.8)\r\n    .header-abs-back\r\n        color: #fff\r\n        font-size: .4rem\r\n.header-fixed\r\n  z-index: 2\r\n  position: fixed\r\n  top: 0\r\n  left: 0\r\n  right: 0\r\n  height: $headerHeight\r\n  line-height: $headerHeight\r\n  text-align: center\r\n  color: #fff\r\n  background: $bgColor\r\n  font-size: .32rem\r\n  .header-fixed-back\r\n    position: absolute\r\n    top: 0\r\n    left: 0\r\n    width: .64rem\r\n    text-align: center\r\n    font-size: .4rem\r\n    color: #fff\r\n</style>\r\n","import { render } from \"./DetailHeader.vue?vue&type=template&id=0994e61d&scoped=true\"\nimport script from \"./DetailHeader.vue?vue&type=script&lang=js\"\nexport * from \"./DetailHeader.vue?vue&type=script&lang=js\"\n\nimport \"./DetailHeader.vue?vue&type=style&index=0&id=0994e61d&lang=stylus&scoped=true\"\n\nimport exportComponent from \"D:\\\\熊粤\\\\PL规划\\\\Vue\\\\20-project-travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0994e61d\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"item\" v-for=\"(item, idx) in list\" :key=\"idx\">\r\n      <div class=\"item-title border-bottom\">\r\n        <span class=\"item-title-icon\"></span>\r\n        {{ item.title }}\r\n        <div v-if=\"item.children\">\r\n          <DetailList :list=\"item.children\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"list\"],\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.item-title\r\n    line-height: .8rem\r\n    font-size: .32rem\r\n    padding: 0 .2rem\r\n    .item-title-icon\r\n        position: relative\r\n        left: .06rem\r\n        top: .06rem\r\n        display: inline-block\r\n        width: .36rem\r\n        height: .36rem\r\n        background: url(http://s.qunarzz.com/piao/image/touch/sight/detail.png) 0 -.45rem no-repeat\r\n        margin-right: .1rem\r\n        background-size: .4rem 3rem\r\n</style>\r\n","import { render } from \"./DetailList.vue?vue&type=template&id=1c54d8d4&scoped=true\"\nimport script from \"./DetailList.vue?vue&type=script&lang=js\"\nexport * from \"./DetailList.vue?vue&type=script&lang=js\"\n\nimport \"./DetailList.vue?vue&type=style&index=0&id=1c54d8d4&lang=stylus&scoped=true\"\n\nimport exportComponent from \"D:\\\\熊粤\\\\PL规划\\\\Vue\\\\20-project-travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c54d8d4\"]])\n\nexport default __exports__","import { render } from \"./DetailPage.vue?vue&type=template&id=01c9b41a&scoped=true\"\nimport script from \"./DetailPage.vue?vue&type=script&lang=js\"\nexport * from \"./DetailPage.vue?vue&type=script&lang=js\"\n\nimport \"./DetailPage.vue?vue&type=style&index=0&id=01c9b41a&lang=stylus&scoped=true\"\n\nimport exportComponent from \"D:\\\\熊粤\\\\PL规划\\\\Vue\\\\20-project-travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-01c9b41a\"]])\n\nexport default __exports__"],"names":["class","_createVNode","_component_DetailBanner","bannerImg","$data","sightName","galleryImgs","_component_DetailHeader","_createElementVNode","_component_DetailList","list","_createElementBlock","onClick","$options","src","$props","_toDisplayString","_hoisted_5","length","_component_FadeAnimation","_component_BasicGallery","imgs","onClose","props","data","showGallery","methods","handleBannerClick","this","closeGallery","__exports__","_component_router_link","to","_hoisted_1","style","_hoisted_3","showAbs","opacityStyle","opacity","handleScroll","top","document","documentElement","scrollTop","body","window","pageYOffset","activated","addEventListener","deactivated","removeEventListener","_Fragment","_renderList","item","idx","key","_hoisted_2","title","children","components","DetailBanner","DetailHeader","DetailList","categoryList","lastVisitedId","async","$route","params","itemId","axios","id","ret","res","console","log","mounted","getDetailInfo","render"],"sourceRoot":""}