"use strict";(self["webpackChunktravel"]=self["webpackChunktravel"]||[]).push([[328],{2328:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var s=a(3396);const l={class:"content"};function n(e,t,a,n,i,r){const o=(0,s.up)("DetailBanner"),d=(0,s.up)("DetailHeader"),c=(0,s.up)("DetailList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o,{bannerImg:i.bannerImg,sightName:i.sightName,galleryImgs:i.galleryImgs},null,8,["bannerImg","sightName","galleryImgs"]),(0,s.Wm)(d),(0,s._)("div",l,[(0,s.Wm)(c,{list:i.categoryList},null,8,["list"])])],64)}var i=a(6265),r=a.n(i),o=a(7139),d=a(9242);const c=e=>((0,s.dD)("data-v-6c43c7b4"),e=e(),(0,s.Cn)(),e),m=["src"],g={class:"banner-info"},h={class:"banner-title"},u={class:"banner-number"},v=c((()=>(0,s._)("span",{class:"iconfont banner-icon"},"",-1)));function y(e,t,a,l,n,i){const r=(0,s.up)("BasicGallery"),c=(0,s.up)("FadeAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:"banner",onClick:t[0]||(t[0]=(...e)=>i.handleBannerClick&&i.handleBannerClick(...e))},[(0,s._)("img",{class:"banner-img",src:a.bannerImg},null,8,m),(0,s._)("div",g,[(0,s._)("div",h,(0,o.zw)(a.sightName),1),(0,s._)("div",u,[v,(0,s.Uk)((0,o.zw)(a.galleryImgs.length),1)])])]),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{imgs:a.galleryImgs,onClose:i.closeGallery},null,8,["imgs","onClose"]),[[d.F8,n.showGallery]])])),_:1})])}var w={props:["bannerImg","sightName","galleryImgs"],data(){return{showGallery:!1}},methods:{handleBannerClick(){this.showGallery=!0},closeGallery(){this.showGallery=!1}}},p=a(89);const b=(0,p.Z)(w,[["render",y],["__scopeId","data-v-6c43c7b4"]]);var I=b;const f=e=>((0,s.dD)("data-v-0994e61d"),e=e(),(0,s.Cn)(),e),_=f((()=>(0,s._)("div",{class:"iconfont header-abs-back"},"",-1))),D=(0,s.Uk)(" 景点详情 "),k=f((()=>(0,s._)("div",{class:"iconfont header-fixed-back"},"",-1)));function C(e,t,a,l,n,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.wy)((0,s.Wm)(r,{to:"/",class:"header-abs"},{default:(0,s.w5)((()=>[_])),_:1},512),[[d.F8,n.showAbs]]),(0,s.wy)((0,s._)("div",{class:"header-fixed",style:(0,o.j5)(n.opacityStyle)},[D,(0,s.Wm)(r,{to:"/"},{default:(0,s.w5)((()=>[k])),_:1})],4),[[d.F8,!n.showAbs]])])}var L={data(){return{showAbs:!0,opacityStyle:{opacity:0}}},methods:{handleScroll(){const e=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;if(e>60){let t=e/140;t=t>1?1:t,this.opacityStyle={opacity:t},this.showAbs=!1}else this.showAbs=!0}},activated(){window.addEventListener("scroll",this.handleScroll)},deactivated(){window.removeEventListener("scroll",this.handleScroll)}};const N=(0,p.Z)(L,[["render",C],["__scopeId","data-v-0994e61d"]]);var W=N;const G=e=>((0,s.dD)("data-v-1c54d8d4"),e=e(),(0,s.Cn)(),e),A={class:"item-title border-bottom"},B=G((()=>(0,s._)("span",{class:"item-title-icon"},null,-1))),S={key:0};function F(e,t,a,l,n,i){const r=(0,s.up)("DetailList",!0);return(0,s.wg)(),(0,s.iD)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.list,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:t},[(0,s._)("div",A,[B,(0,s.Uk)(" "+(0,o.zw)(e.title)+" ",1),e.children?((0,s.wg)(),(0,s.iD)("div",S,[(0,s.Wm)(r,{list:e.children},null,8,["list"])])):(0,s.kq)("",!0)])])))),128))])}var H={props:["list"]};const Z=(0,p.Z)(H,[["render",F],["__scopeId","data-v-1c54d8d4"]]);var z=Z,E={components:{DetailBanner:I,DetailHeader:W,DetailList:z},data(){return{sightName:"",bannerImg:"",galleryImgs:[],categoryList:[],lastVisitedId:null}},methods:{async getDetailInfo(){this.lastVisitedId=this.$route.params.itemId;const{data:e}=await r().get("../mock/detail.json",{params:{id:this.$route.params.itemId}});if(e.ret&&e.data){const t=e.data;this.sightName=t.sightName,this.bannerImg=t.bannerImg,this.galleryImgs=t.galleryImgs,this.categoryList=t.categoryList}else console.log("failed to fetch detail info")}},mounted(){this.getDetailInfo()},activated(){this.$route.params.itemId!==this.lastVisitedId&&this.getDetailInfo()}};const U=(0,p.Z)(E,[["render",n],["__scopeId","data-v-01c9b41a"]]);var V=U}}]);
//# sourceMappingURL=328.6e890410.js.map