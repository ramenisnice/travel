"use strict";(self["webpackChunktravel"]=self["webpackChunktravel"]||[]).push([[806],{5806:function(e,t,s){s.r(t),s.d(t,{default:function(){return oe}});var i=s(3396);function n(e,t,s,n,o,r){const c=(0,i.up)("HomeHeader"),l=(0,i.up)("HomeSwiper"),a=(0,i.up)("HomeIcons"),d=(0,i.up)("HomeRecom"),m=(0,i.up)("HomeWeekend");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c),(0,i.Wm)(l,{"slide-items":o.swiperList},null,8,["slide-items"]),(0,i.Wm)(a,{"icon-list":o.iconList},null,8,["icon-list"]),(0,i.Wm)(d,{"recommend-list":o.recommendList},null,8,["recommend-list"]),(0,i.Wm)(m,{"recommend-list":o.weekendList},null,8,["recommend-list"])],64)}var o=s(7139);const r=e=>((0,i.dD)("data-v-629bd10d"),e=e(),(0,i.Cn)(),e),c={class:"header"},l=r((()=>(0,i._)("div",{class:"header-left"},[(0,i._)("div",{class:"iconfont back-icon"},"")],-1))),a=r((()=>(0,i._)("div",{class:"header-input"},[(0,i._)("span",{class:"iconfont"},""),(0,i.Uk)(" 输入城市/景点/游玩主题 ")],-1))),d={class:"header-right"},m=r((()=>(0,i._)("span",{class:"iconfont arrow-icon"},"",-1)));function u(e,t,s,n,r,u){const p=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",c,[l,a,(0,i.Wm)(p,{to:"/city"},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i.Uk)((0,o.zw)(e.getCurrentCity)+" ",1),m])])),_:1})])}var p=s(65),w={computed:{...(0,p.Se)(["getCurrentCity"])}},g=s(89);const _=(0,g.Z)(w,[["render",u],["__scopeId","data-v-629bd10d"]]);var v=_;const h={class:"wrapper"},f=["src"];function k(e,t,s,n,o,r){const c=(0,i.up)("SwiperSlide"),l=(0,i.up)("SwiperWrap");return(0,i.wg)(),(0,i.iD)("div",h,[n.hasSlideItems?((0,i.wg)(),(0,i.j4)(l,{key:0,pagination:!0,loop:!0,modules:n.modules,class:"mySwiper"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.slideItems,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"swiper-img",src:e.imgUrl},null,8,f)])),_:2},1024)))),128))])),_:1},8,["modules"])):(0,i.kq)("",!0)])}var C=s(9231),L={props:["slideItems"],setup(e){const t=(0,i.Fl)((()=>e.slideItems.length>0));return{modules:[C.tl],hasSlideItems:t}}};const y=(0,g.Z)(L,[["render",k],["__scopeId","data-v-44de374b"]]);var H=y;const D={class:"icons"},I={class:"icon-img"},b=["src"],S={class:"icon-desc"};function W(e,t,s,n,r,c){const l=(0,i.up)("SwiperSlide"),a=(0,i.up)("SwiperWrap");return(0,i.wg)(),(0,i.iD)("div",D,[(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.pages,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{key:t},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"icon",key:e.id},[(0,i._)("div",I,[(0,i._)("img",{class:"icon-imgcontent",src:e.imgUrl},null,8,b)]),(0,i._)("p",S,(0,o.zw)(e.desc),1)])))),128))])),_:2},1024)))),128))])),_:1})])}var z={props:["iconList"],computed:{pages(){const e=[];return this.iconList.forEach(((t,s)=>{const i=Math.floor(s/8);e[i]||(e[i]=[]),e[i].push(t)})),e}}};const U=(0,g.Z)(z,[["render",W],["__scopeId","data-v-a9100a5a"]]);var Y=U;const Z=e=>((0,i.dD)("data-v-d30dbe40"),e=e(),(0,i.Cn)(),e),j=Z((()=>(0,i._)("div",{class:"title"},"热销推荐",-1))),K=["src"],R={class:"item-info"},q={class:"item-title"},x={class:"item-desc"},E=Z((()=>(0,i._)("button",{class:"item-button"},"查看详情",-1)));function F(e,t,s,n,r,c){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[j,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.recommendList,(e=>((0,i.wg)(),(0,i.j4)(l,{to:"/detail/"+e.id,class:"item border-bottom",key:e.id},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"item-img",src:e.imgUrl},null,8,K),(0,i._)("div",R,[(0,i._)("p",q,(0,o.zw)(e.title),1),(0,i._)("p",x,(0,o.zw)(e.desc),1),E])])),_:2},1032,["to"])))),128))])])}var M={props:["recommendList"]};const A=(0,g.Z)(M,[["render",F],["__scopeId","data-v-d30dbe40"]]);var B=A;const G=e=>((0,i.dD)("data-v-334311ca"),e=e(),(0,i.Cn)(),e),J=G((()=>(0,i._)("div",{class:"title"},"周末去哪儿",-1))),N={class:"item-img-wrapper"},O=["src"],P={class:"item-info"},Q={class:"item-title"},T={class:"item-desc"};function V(e,t,s,n,r,c){return(0,i.wg)(),(0,i.iD)("div",null,[J,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.recommendList,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"item border-bottom",key:e.id},[(0,i._)("div",N,[(0,i._)("img",{class:"item-img",src:e.imgUrl},null,8,O)]),(0,i._)("div",P,[(0,i._)("p",Q,(0,o.zw)(e.title),1),(0,i._)("p",T,(0,o.zw)(e.desc),1)])])))),128))])])}var X={props:["recommendList"]};const $=(0,g.Z)(X,[["render",V],["__scopeId","data-v-334311ca"]]);var ee=$,te=s(6265),se=s.n(te),ie={components:{HomeHeader:v,HomeSwiper:H,HomeIcons:Y,HomeRecom:B,HomeWeekend:ee},data(){return{lastCity:"",swiperList:[],iconList:[],recommendList:[],weekendList:[]}},computed:{...(0,p.Se)(["getCurrentCity"])},methods:{async getHomeInfo(){const{data:e}=await se().get("mock/index.json?city="+this.getCurrentCity);e.ret&&e.data?(this.swiperList=e.data.swiperList,this.iconList=e.data.iconList,this.recommendList=e.data.recommendList,this.weekendList=e.data.weekendList):console.log("error")}},mounted(){this.lastCity=this.getCurrentCity,this.getHomeInfo()},activated(){this.getCurrentCity!==this.lastCity&&(this.getHomeInfo(),this.lastCity=this.getCurrentCity)}};const ne=(0,g.Z)(ie,[["render",n]]);var oe=ne}}]);
//# sourceMappingURL=806.b4702d56.js.map